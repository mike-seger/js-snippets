<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" type="text/css" href="./autocomplete.css">
	<link rel="stylesheet" type="text/css" href="index.css">
</head>
<body>
    <input type="text" id="country1" placeholder="Enter country name..." >
    <br /> <br />
    <input type="text" id="country2" placeholder="Enter country name..." >
    <script type="module">
        import {attachAutoComplete, attachAutoCompleteObjectAttributes} from './autocomplete-util.js';
        var country1 = document.getElementById("country1");
        var country2 = document.getElementById("country2");
        function showValue() { console.log("Changed to: "+this._value); }
        country1.addEventListener("change", showValue);
        country2.addEventListener("change", showValue);
        fetch("countries.json").then((res) => { return res.json(); })
        .then((data) => { 
            var labels = Object.values(data).sort();
            attachAutoComplete(country1, labels); 
            attachAutoCompleteObjectAttributes(country2, data);
        })
        .catch((err) => { console.log(err); })
    </script>
</body></html>